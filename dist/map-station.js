!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="dist",n(n.s=15)}([function(t,e,n){"use strict";n.d(e,"h",function(){return u}),n.d(e,"d",function(){return f}),n.d(e,"b",function(){return h}),n.d(e,"f",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"a",function(){return v}),n.d(e,"c",function(){return w}),n.d(e,"g",function(){return A});var r=n(3),i=n(6),o=n.n(i);function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return"rotate(".concat(n," ").concat(t," ").concat(e,") translate(").concat(t,", ").concat(e,") scale(").concat(r,")")},f=function(t){return t*(Math.PI/180)},l=function(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)},h=function(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))},d=function(t){return c(t.sort(function(){return Math.random()-.5}))},g="http://www.w3.org/2000/svg";function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])}),Object.keys(n).forEach(function(e){t.style[e]=n[e]}),t}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=document.createElement(t);return p(i,e,n),r&&r.appendChild(i),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return p.apply(void 0,[i].concat(e))}}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=document.createElementNS(g,t);return p(i,e,n),r&&r.appendChild(i),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return p.apply(void 0,[i].concat(e))}}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.map(function(t){var r=t.geometry&&t.geometry.type,i="Point"===r&&e([t.geometry.coordinates],t.properties||{})||"MultiPoint"===r&&e(t.geometry.coordinates,t.properties||{})||"LineString"===r&&e(t.geometry.coordinates,t.properties||{})||"MultiLineString"===r&&t.geometry.coordinates.map(function(n){return e(n,t.properties||{})})||"Polygon"===r&&t.geometry.coordinates.map(function(n){return e(n,t.properties||{})}).filter(function(t){return t.length>0})||"MultiPolygon"===r&&t.geometry.coordinates.map(function(n){return n.map(function(n){return e(n,t.properties||{})}).filter(function(t){return t.length>0})}).filter(function(t){return t.length>0});return n?i.length>0?a({},t,{geometry:a({},t.geometry,{coordinates:"Point"===r?i[0]:i})}):null:t}).filter(function(t){return t})}function v(t,e){return t.reduce(function(n,r,i){return n+(0===i&&"M"+r[0]+" "+r[1]||i===t.length-1&&"L"+r[0]+" "+r[1]+(e?"Z":"")||"L"+r[0]+" "+r[1])},"")}function w(t,e,n,i){var o=y((t&&t.features||[]).filter(function(t){return t&&t.geometry&&("Polygon"===t.geometry.type||"MultiPolygon"===t.geometry.type)}),function(t){return t.map(function(t){return n&&n(t)||t})}),s=Object(r.a)(a({},t,{features:o})),c=s[2]-s[0],u=s[3]-s[1],f=e.width,h=e.height,d=c/u>f/h,g=d?f:h*c/u,p=d?f*u/c:h,b=d?0:e.centered?f/2-g/2:0,m=d&&e.centered?h/2-p/2:0,v=d?g:e.centered?f/2+g/2:g,w=d&&e.centered?h/2+p/2:p;return y(o,function(t){return t.map(function(t){return[l(t[0],s[0],s[2],b,v),l(t[1],s[i?1:3],s[i?3:1],m,w)]})})}var x={create:["div","span","strong","link","canvas"],createNS:["rect","circle","path","svg","g","foreignObject","text","use","tspan"]},A=function(t,e){return function t(e,n,r,i,o){var u,f=Object.keys(r).reduce(function(t,e){return 0!==e.indexOf("@_")?a({},t):a({},t,"@_style"===e?{attributesStyle:r[e]}:{attributes:a({},t.attributes,s({},e.replace("@_",""),r[e]))})},{attributes:{}}),l=f.attributesStyle,h=f.attributes;try{u=(l||"").split(";").reduce(function(t,e){var n=e.split(":"),r=(n[0]||"").trim(),i=(n[1]||"").trim();return r?a({},t,s({},r,i)):a({},t)},{})}catch(t){u={}}var d=r["#text"],g=-1!==x.create.indexOf(n)&&b||-1!==x.createNS.indexOf(n)&&m,p=o?null:g(n,h,u,i);return d&&p&&(p().innerHTML=d),[].concat(c(o?[]:[{id:e,attributeId:h.id,key:n,type:n,node:p}]),c(Object.keys(r).filter(function(t){return"#text"!==t&&0!==t.indexOf("@_")}).reduce(function(n,a){var s=r[a].length?r[a]:[r[a]];return[].concat(c(n),c(s.reduce(function(n,r){return[].concat(c(n),c(t("".concat(e,"_").concat(a),a,r,o?i:p())))},[])))},[])))}("root","div",o.a.parse('<div class="ok">'.concat(t,"</div>"),{ignoreAttributes:!1}).div,e,!0).reduce(function(t,e){return Object.assign({},t,s({},e.attributeId||e.id,e.node))},{})}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a});function r(t,e,n){if(!a(n=n||{}))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");r&&s(r),i&&c(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function i(t,e,n){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!o(t[0][1])||!o(t[0][1]))throw new Error("coordinates must contain numbers");return r({type:"LineString",coordinates:t},e,n)}function o(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function a(t){return!!t&&t.constructor===Object}function s(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!o(t))throw new Error("bbox must only contain numbers")})}function c(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},function(t,e,n){"use strict";const r=function(t,e){const n=e.exec(t);return!(null==n)};e.isExist=function(t){return void 0!==t},e.isEmptyObject=function(t){return 0===Object.keys(t).length},e.merge=function(t,e){if(e){const n=Object.keys(e),r=n.length;for(let i=0;i<r;i++)t[n[i]]=e[n[i]]}},e.getValue=function(t){return e.isExist(t)?t:""},e.buildOptions=function(t,e,n){var r={};if(!t)return e;for(let i=0;i<n.length;i++)void 0!==t[n[i]]?r[n[i]]=t[n[i]]:r[n[i]]=e[n[i]];return r},e.doesMatch=r,e.doesNotMatch=function(t,e){return!r(t,e)},e.getAllMatches=function(t,e){const n=[];let r=e.exec(t);for(;r;){const i=[],o=r.length;for(let t=0;t<o;t++)i.push(r[t]);n.push(i),r=e.exec(t)}return n}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){var e=[1/0,1/0,-1/0,-1/0];return Object(r.a)(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}},function(t,e,n){"use strict";const r=n(2),i=n(2).buildOptions,o=n(9),a={OPENING:1,CLOSING:2,SELF:3,CDATA:4};let s="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|(([\\w:\\-._]*:)?([\\w:\\-._]+))([^>]*)>|((\\/)(([\\w:\\-._]*:)?([\\w:\\-._]+))\\s*>))([^<]*)";!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const c={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",localeRange:"",tagValueProcessor:function(t){return t},attrValueProcessor:function(t){return t},stopNodes:[]};e.defaultOptions=c;const u=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","localeRange","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];e.props=u;function f(t,e){return t&&(e.trimValues&&(t=t.trim()),t=h(t=e.tagValueProcessor(t),e.parseNodeValue,e.parseTrueNumberOnly)),t}function l(t,e){if(e.ignoreNameSpace){const e=t.split(":"),n="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=n+e[1])}return t}function h(t,e,n){if(e&&"string"==typeof t){let e;return""===t.trim()||isNaN(t)?e="true"===t||"false"!==t&&t:(e=-1!==t.indexOf("0x")?Number.parseInt(t,16):-1!==t.indexOf(".")?Number.parseFloat(t):Number.parseInt(t,10),n&&(e=String(e)===t?e:t)),e}return r.isExist(t)?t:""}const d=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function g(t,e){if(!e.ignoreAttributes&&"string"==typeof t){t=t.replace(/\r?\n/g," ");const n=r.getAllMatches(t,d),i=n.length,o={};for(let t=0;t<i;t++){const r=l(n[t][1],e);r.length&&(void 0!==n[t][4]?(e.trimValues&&(n[t][4]=n[t][4].trim()),n[t][4]=e.attrValueProcessor(n[t][4]),o[e.attributeNamePrefix+r]=h(n[t][4],e.parseAttributeValue,e.parseTrueNumberOnly)):e.allowBooleanAttributes&&(o[e.attributeNamePrefix+r]=!0))}if(!Object.keys(o).length)return;if(e.attrNodeName){const t={};return t[e.attrNodeName]=o,t}return o}}e.getTraversalObj=function(t,e){e=i(e,c,u),t=t.replace(/<!--[\s\S]*?-->/g,"");const n=new o("!xml");let l=n;s=s.replace(/\[\\w/g,"["+e.localeRange+"\\w");const h=new RegExp(s,"g");let d=h.exec(t),p=h.exec(t);for(;d;){const n="]]>"===(b=d)[4]?a.CDATA:"/"===b[10]?a.CLOSING:void 0!==b[8]&&"/"===b[8].substr(b[8].length-1)?a.SELF:a.OPENING;if(n===a.CLOSING)l.parent&&d[14]&&(l.parent.val=r.getValue(l.parent.val)+""+f(d[14],e)),e.stopNodes.length&&e.stopNodes.includes(l.tagname)&&(l.child=[],null==l.attrsMap&&(l.attrsMap={}),l.val=t.substr(l.startIndex+1,d.index-l.startIndex-1)),l=l.parent;else if(n===a.CDATA)if(e.cdataTagName){const t=new o(e.cdataTagName,l,d[3]);t.attrsMap=g(d[8],e),l.addChild(t),l.val=r.getValue(l.val)+e.cdataPositionChar,d[14]&&(l.val+=f(d[14],e))}else l.val=(l.val||"")+(d[3]||"")+f(d[14],e);else if(n===a.SELF){l&&d[14]&&(l.val=r.getValue(l.val)+""+f(d[14],e));const t=new o(e.ignoreNameSpace?d[7]:d[5],l,"");d[8]&&d[8].length>0&&(d[8]=d[8].substr(0,d[8].length-1)),t.attrsMap=g(d[8],e),l.addChild(t)}else{const t=new o(e.ignoreNameSpace?d[7]:d[5],l,f(d[14],e));e.stopNodes.length&&e.stopNodes.includes(t.tagname)&&(t.startIndex=d.index+d[1].length),t.attrsMap=g(d[8],e),l.addChild(t),l=t}d=p,p=h.exec(t)}var b;return n}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});n(1);function r(t,e,n){if(null!==t)for(var i,o,a,s,c,u,f,l,h=0,d=0,g=t.type,p="FeatureCollection"===g,b="Feature"===g,m=p?t.features.length:1,y=0;y<m;y++){c=(l=!!(f=p?t.features[y].geometry:b?t.geometry:t)&&"GeometryCollection"===f.type)?f.geometries.length:1;for(var v=0;v<c;v++){var w=0,x=0;if(null!==(s=l?f.geometries[v]:f)){u=s.coordinates;var A=s.type;switch(h=!n||"Polygon"!==A&&"MultiPolygon"!==A?0:1,A){case null:break;case"Point":e(u,d,y,w,x),d++,w++;break;case"LineString":case"MultiPoint":for(i=0;i<u.length;i++)e(u[i],d,y,w,x),d++,"MultiPoint"===A&&w++;"LineString"===A&&w++;break;case"Polygon":case"MultiLineString":for(i=0;i<u.length;i++){for(o=0;o<u[i].length-h;o++)e(u[i][o],d,y,w,x),d++;"MultiLineString"===A&&w++,"Polygon"===A&&x++}"Polygon"===A&&w++;break;case"MultiPolygon":for(i=0;i<u.length;i++){for("MultiPolygon"===A&&(x=0),o=0;o<u[i].length;o++){for(a=0;a<u[i][o].length-h;a++)e(u[i][o][a],d,y,w,x),d++;x++}w++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)r(s.geometries[i],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function i(t,e){var n,r,i,o,a,s,c,u,f,l,h=0,d="FeatureCollection"===t.type,g="Feature"===t.type,p=d?t.features.length:1;for(n=0;n<p;n++){for(s=d?t.features[n].geometry:g?t.geometry:t,u=d?t.features[n].properties:g?t.properties:{},f=d?t.features[n].bbox:g?t.bbox:void 0,l=d?t.features[n].id:g?t.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=c?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,h,u,f,l);break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)e(o.geometries[r],h,u,f,l);break;default:throw new Error("Unknown Geometry Type")}else e(null,h,u,f,l);h++}}},function(t,e,n){"use strict";const r=n(8),i=n(4),o=n(4),a=n(2).buildOptions;e.parse=function(t,e){return e=a(e,o.defaultOptions,o.props),r.convertToJson(i.getTraversalObj(t,e),e)},e.convertTonimn=n(10).convert2nimn,e.getTraversalObj=i.getTraversalObj,e.convertToJson=r.convertToJson,e.convertToJsonString=n(11).convertToJsonString,e.validate=n(12).validate,e.j2xParser=n(13),e.parseToNimn=function(t,n,r){return e.convertTonimn(e.getTraversalObj(t,r),n,r)}},function(t,e,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,c=i.round,u=i.min,f=i.max,l=i.random;function h(t,e){if(e=e||{},(t=t||"")instanceof h)return t;if(!(this instanceof h))return new h(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,r=null,s=null,c=null,l=!1,h=!1;"string"==typeof t&&(t=function(t){t=t.replace(o,"").replace(a,"").toLowerCase();var e,n=!1;if(E[t])t=E[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=B.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=B.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=B.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=B.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=B.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=B.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=B.hex8.exec(t))return{r:R(e[1]),g:R(e[2]),b:R(e[3]),a:z(e[4]),format:n?"name":"hex8"};if(e=B.hex6.exec(t))return{r:R(e[1]),g:R(e[2]),b:R(e[3]),format:n?"name":"hex"};if(e=B.hex4.exec(t))return{r:R(e[1]+""+e[1]),g:R(e[2]+""+e[2]),b:R(e[3]+""+e[3]),a:z(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=B.hex3.exec(t))return{r:R(e[1]+""+e[1]),g:R(e[2]+""+e[2]),b:R(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==typeof t&&(G(t.r)&&G(t.g)&&G(t.b)?(d=t.r,g=t.g,p=t.b,e={r:255*C(d,255),g:255*C(g,255),b:255*C(p,255)},l=!0,h="%"===String(t.r).substr(-1)?"prgb":"rgb"):G(t.h)&&G(t.s)&&G(t.v)?(r=I(t.s),s=I(t.v),e=function(t,e,n){t=6*C(t,360),e=C(e,100),n=C(n,100);var r=i.floor(t),o=t-r,a=n*(1-e),s=n*(1-o*e),c=n*(1-(1-o)*e),u=r%6;return{r:255*[n,s,a,a,c,n][u],g:255*[c,n,n,s,a,a][u],b:255*[a,a,c,n,n,s][u]}}(t.h,r,s),l=!0,h="hsv"):G(t.h)&&G(t.s)&&G(t.l)&&(r=I(t.s),c=I(t.l),e=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=C(t,360),e=C(e,100),n=C(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,c=2*n-s;r=a(c,s,t+1/3),i=a(c,s,t),o=a(c,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,r,c),l=!0,h="hsl"),t.hasOwnProperty("a")&&(n=t.a));var d,g,p;return n=M(n),{ok:l,format:t.format||h,r:u(255,f(e.r,0)),g:u(255,f(e.g,0)),b:u(255,f(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=c(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=n.ok,this._tc_id=s++}function d(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var r,i,o=f(t,e,n),a=u(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var c=o-a;switch(i=s>.5?c/(2-o-a):c/(o+a),o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4}r/=6}return{h:r,s:i,l:s}}function g(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var r,i,o=f(t,e,n),a=u(t,e,n),s=o,c=o-a;if(i=0===o?0:c/o,o==a)r=0;else{switch(o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4}r/=6}return{h:r,s:i,v:s}}function p(t,e,n,r){var i=[H(c(t).toString(16)),H(c(e).toString(16)),H(c(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function b(t,e,n,r){return[H(F(r)),H(c(t).toString(16)),H(c(e).toString(16)),H(c(n).toString(16))].join("")}function m(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.s-=e/100,n.s=L(n.s),h(n)}function y(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.s+=e/100,n.s=L(n.s),h(n)}function v(t){return h(t).desaturate(100)}function w(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.l+=e/100,n.l=L(n.l),h(n)}function x(t,e){e=0===e?0:e||10;var n=h(t).toRgb();return n.r=f(0,u(255,n.r-c(-e/100*255))),n.g=f(0,u(255,n.g-c(-e/100*255))),n.b=f(0,u(255,n.b-c(-e/100*255))),h(n)}function A(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.l-=e/100,n.l=L(n.l),h(n)}function k(t,e){var n=h(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,h(n)}function O(t){var e=h(t).toHsl();return e.h=(e.h+180)%360,h(e)}function P(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+120)%360,s:e.s,l:e.l}),h({h:(n+240)%360,s:e.s,l:e.l})]}function S(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+90)%360,s:e.s,l:e.l}),h({h:(n+180)%360,s:e.s,l:e.l}),h({h:(n+270)%360,s:e.s,l:e.l})]}function _(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+72)%360,s:e.s,l:e.l}),h({h:(n+216)%360,s:e.s,l:e.l})]}function j(t,e,n){e=e||6,n=n||30;var r=h(t).toHsl(),i=360/n,o=[h(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(h(r));return o}function N(t,e){e=e||6;for(var n=h(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(h({h:r,s:i,v:o})),o=(o+s)%1;return a}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=M(t),this._roundA=c(100*this._a)/100,this},toHsv:function(){var t=g(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=g(this._r,this._g,this._b),e=c(360*t.h),n=c(100*t.s),r=c(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=d(this._r,this._g,this._b),e=c(360*t.h),n=c(100*t.s),r=c(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return p(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var o=[H(c(t).toString(16)),H(c(e).toString(16)),H(c(n).toString(16)),H(F(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*C(this._r,255))+"%",g:c(100*C(this._g,255))+"%",b:c(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*C(this._r,255))+"%, "+c(100*C(this._g,255))+"%, "+c(100*C(this._b,255))+"%)":"rgba("+c(100*C(this._r,255))+"%, "+c(100*C(this._g,255))+"%, "+c(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(T[p(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+b(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=h(t);n="#"+b(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(A,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(j,arguments)},complement:function(){return this._applyCombination(O,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(P,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},h.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:I(t[r]));t=n}return h(t,e)},h.equals=function(t,e){return!(!t||!e)&&h(t).toRgbString()==h(e).toRgbString()},h.random=function(){return h.fromRatio({r:l(),g:l(),b:l()})},h.mix=function(t,e,n){n=0===n?0:n||50;var r=h(t).toRgb(),i=h(e).toRgb(),o=n/100;return h({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},h.readability=function(t,e){var n=h(t),r=h(e);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},h.isReadable=function(t,e,n){var r,i,o=h.readability(t,e);switch(i=!1,(r=function(t){var e,n;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==n&&"large"!==n&&(n="small");return{level:e,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},h.mostReadable=function(t,e,n){var r,i,o,a,s=null,c=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var u=0;u<e.length;u++)(r=h.readability(t,e[u]))>c&&(c=r,s=h(e[u]));return h.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,h.mostReadable(t,["#fff","#000"],n))};var E=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},T=h.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(E);function M(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function C(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=u(e,f(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function L(t){return u(1,f(0,t))}function R(t){return parseInt(t,16)}function H(t){return 1==t.length?"0"+t:""+t}function I(t){return t<=1&&(t=100*t+"%"),t}function F(t){return i.round(255*parseFloat(t)).toString(16)}function z(t){return R(t)/255}var V,D,q,B=(D="[\\s|\\(]+("+(V="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",q="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",{CSS_UNIT:new RegExp(V),rgb:new RegExp("rgb"+D),rgba:new RegExp("rgba"+q),hsl:new RegExp("hsl"+D),hsla:new RegExp("hsla"+q),hsv:new RegExp("hsv"+D),hsva:new RegExp("hsva"+q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function G(t){return!!B.CSS_UNIT.exec(t)}t.exports?t.exports=h:void 0===(r=function(){return h}.call(e,n,e,t))||(t.exports=r)}(Math)},function(t,e,n){"use strict";const r=n(2),i=function(t,e){const n={};if(!(t.child&&!r.isEmptyObject(t.child)||t.attrsMap&&!r.isEmptyObject(t.attrsMap)))return r.isExist(t.val)?t.val:"";r.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==e.cdataPositionChar)&&(n[e.textNodeName]=t.val),r.merge(n,t.attrsMap);const o=Object.keys(t.child);for(let r=0;r<o.length;r++){var a=o[r];if(t.child[a]&&t.child[a].length>1)for(var s in n[a]=[],t.child[a])n[a].push(i(t.child[a][s],e));else n[a]=i(t.child[a][0],e)}return n};e.convertToJson=i},function(t,e,n){"use strict";t.exports=function(t,e,n){this.tagname=t,this.parent=e,this.child={},this.attrsMap={},this.val=n,this.addChild=function(t){Array.isArray(this.child[t.tagname])?this.child[t.tagname].push(t):this.child[t.tagname]=[t]}}},function(t,e,n){"use strict";const r=function(t){return String.fromCharCode(t)},i={nilChar:r(176),missingChar:r(201),nilPremitive:r(175),missingPremitive:r(200),emptyChar:r(178),emptyValue:r(177),boundryChar:r(179),objStart:r(198),arrStart:r(204),arrayEnd:r(185)},o=[i.nilChar,i.nilPremitive,i.missingChar,i.missingPremitive,i.boundryChar,i.emptyChar,i.emptyValue,i.arrayEnd,i.objStart,i.arrStart],a=function(t,e,n){if("string"==typeof e)return t&&t[0]&&void 0!==t[0].val?s(t[0].val,e):s(t,e);{const o=void 0===(r=t)?i.missingChar:null===r?i.nilChar:!(r.child&&0===Object.keys(r.child).length&&(!r.attrsMap||0===Object.keys(r.attrsMap).length))||i.emptyChar;if(!0===o){let r="";if(Array.isArray(e)){r+=i.arrStart;const o=e[0],u=t.length;if("string"==typeof o)for(let e=0;e<u;e++){const n=s(t[e].val,o);r=c(r,n)}else for(let e=0;e<u;e++){const i=a(t[e],o,n);r=c(r,i)}r+=i.arrayEnd}else{r+=i.objStart;const o=Object.keys(e);Array.isArray(t)&&(t=t[0]);for(let i in o){const s=o[i];let u;u=!n.ignoreAttributes&&t.attrsMap&&t.attrsMap[s]?a(t.attrsMap[s],e[s],n):s===n.textNodeName?a(t.val,e[s],n):a(t.child[s],e[s],n),r=c(r,u)}}return r}return o}var r},s=function(t){switch(t){case void 0:return i.missingPremitive;case null:return i.nilPremitive;case"":return i.emptyValue;default:return t}},c=function(t,e){return u(e[0])||u(t[t.length-1])||(t+=i.boundryChar),t+e},u=function(t){return-1!==o.indexOf(t)};const f=n(4),l=n(2).buildOptions;e.convert2nimn=function(t,e,n){return n=l(n,f.defaultOptions,f.props),a(t,e,n)}},function(t,e,n){"use strict";const r=n(2),i=n(2).buildOptions,o=n(4),a=function(t,e,n){let i="{";const o=Object.keys(t.child);for(let n=0;n<o.length;n++){var s=o[n];if(t.child[s]&&t.child[s].length>1){for(var c in i+='"'+s+'" : [ ',t.child[s])i+=a(t.child[s][c],e)+" , ";i=i.substr(0,i.length-1)+" ] "}else i+='"'+s+'" : '+a(t.child[s][0],e)+" ,"}return r.merge(i,t.attrsMap),r.isEmptyObject(i)?r.isExist(t.val)?t.val:"":(r.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==e.cdataPositionChar)&&(i+='"'+e.textNodeName+'" : '+(!0!==(u=t.val)&&!1!==u&&isNaN(u)?'"'+u+'"':u)),","===i[i.length-1]&&(i=i.substr(0,i.length-2)),i+"}");var u};e.convertToJsonString=function(t,e){return(e=i(e,o.defaultOptions,o.props)).indentBy=e.indentBy||"",a(t,e,0)}},function(t,e,n){"use strict";const r=n(2),i={allowBooleanAttributes:!1,localeRange:"a-zA-Z"},o=["allowBooleanAttributes","localeRange"];function a(t,e){for(var n=e;e<t.length;e++)if("?"!=t[e]&&" "!=t[e]);else{var r=t.substr(n,e-n);if(e>5&&"xml"===r)return{err:{code:"InvalidXml",msg:"XML declaration allowed only at the start of the document."}};if("?"==t[e]&&">"==t[e+1]){e++;break}}return e}function s(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let n=1;for(e+=8;e<t.length;e++)if("<"===t[e])n++;else if(">"===t[e]&&0===--n)break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}e.validate=function(t,e){e=r.buildOptions(e,i,o);const n=[];let c=!1;"\ufeff"===t[0]&&(t=t.substr(1));const u=new RegExp("^[_w][\\w\\-.:]*$".replace("_w","_"+e.localeRange)),l=new RegExp("^([w]|_)[\\w.\\-_:]*".replace("([w","(["+e.localeRange));for(let r=0;r<t.length;r++){if("<"!==t[r]){if(" "===t[r]||"\t"===t[r]||"\n"===t[r]||"\r"===t[r])continue;return{err:{code:"InvalidChar",msg:"char "+t[r]+" is not expected ."}}}if("?"===t[++r]){if((r=a(t,++r)).err)return r}else{if("!"===t[r]){r=s(t,r);continue}{let i=!1;"/"===t[r]&&(i=!0,r++);let o="";for(;r<t.length&&">"!==t[r]&&" "!==t[r]&&"\t"!==t[r];r++)o+=t[r];if("/"===(o=o.trim())[o.length-1]){o=o.substring(0,o.length-1);continue}if(!g(o,l))return{err:{code:"InvalidTag",msg:"Tag "+o+" is an invalid name."}};const a=f(t,r);if(!1===a)return{err:{code:"InvalidAttr",msg:"Attributes for "+o+" have open quote"}};let d=a.value;if(r=a.index,"/"===d[d.length-1]){const t=h(d=d.substring(0,d.length-1),e,u);if(!0!==t)return t;c=!0}else if(i){if(d.trim().length>0)return{err:{code:"InvalidTag",msg:"closing tag "+o+" can't have attributes or invalid starting."}};{const t=n.pop();if(o!==t)return{err:{code:"InvalidTag",msg:"closing tag "+t+" is expected inplace of "+o+"."}}}}else{const t=h(d,e,u);if(!0!==t)return t;n.push(o),c=!0}for(r++;r<t.length;r++)if("<"===t[r]){if("!"===t[r+1]){r=s(t,++r);continue}break}"<"===t[r]&&r--}}}return c?!(n.length>0)||{err:{code:"InvalidXml",msg:"Invalid "+JSON.stringify(n,null,4).replace(/\r?\n/g,"")+" found."}}:{err:{code:"InvalidXml",msg:"Start tag expected."}}};var c='"',u="'";function f(t,e){let n="",r="";for(;e<t.length;e++){if(t[e]===c||t[e]===u)if(""===r)r=t[e];else{if(r!==t[e])continue;r=""}else if(">"===t[e]&&""===r)break;n+=t[e]}return""===r&&{value:n,index:e}}const l=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function h(t,e,n){const i=r.getAllMatches(t,l),o={};for(let t=0;t<i.length;t++){if(0===i[t][1].length)return{err:{code:"InvalidAttr",msg:"attribute "+i[t][2]+" has no space in starting."}};if(void 0===i[t][3]&&!e.allowBooleanAttributes)return{err:{code:"InvalidAttr",msg:"boolean attribute "+i[t][2]+" is not allowed."}};const r=i[t][2];if(!d(r,n))return{err:{code:"InvalidAttr",msg:"attribute "+r+" is an invalid name."}};if(o.hasOwnProperty(r))return{err:{code:"InvalidAttr",msg:"attribute "+r+" is repeated."}};o[r]=1}return!0}function d(t,e){return r.doesMatch(t,e)}function g(t,e){return!r.doesNotMatch(t,e)}},function(t,e,n){"use strict";const r=n(2).buildOptions,i={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(t){return t},attrValueProcessor:function(t){return t}},o=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function a(t){this.options=r(t,i,o),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=g),this.options.cdataTagName?this.isCDATA=p:this.isCDATA=function(){return!1},this.replaceCDATAstr=s,this.replaceCDATAarr=c,this.options.format?(this.indentate=d,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=h,this.buildObjNode=f):(this.buildTextNode=l,this.buildObjNode=u),this.buildTextValNode=l,this.buildObjectNode=u}function s(t,e){return t=this.options.tagValueProcessor(""+t),""===this.options.cdataPositionChar||""===t?t+"<![CDATA["+e+"]]"+this.tagEndChar:t.replace(this.options.cdataPositionChar,"<![CDATA["+e+"]]"+this.tagEndChar)}function c(t,e){if(t=this.options.tagValueProcessor(""+t),""===this.options.cdataPositionChar||""===t)return t+"<![CDATA["+e.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in e)t=t.replace(this.options.cdataPositionChar,"<![CDATA["+e[n]+"]]>");return t+this.newLine}function u(t,e,n,r){return n&&!t.includes("<")?this.indentate(r)+"<"+e+n+">"+t+"</"+e+this.tagEndChar:this.indentate(r)+"<"+e+n+this.tagEndChar+t+this.indentate(r)+"</"+e+this.tagEndChar}function f(t,e,n,r){return""!==t?this.buildObjectNode(t,e,n,r):this.indentate(r)+"<"+e+n+"/"+this.tagEndChar}function l(t,e,n,r){return this.indentate(r)+"<"+e+n+">"+this.options.tagValueProcessor(""+t)+"</"+e+this.tagEndChar}function h(t,e,n,r){return""!==t?this.buildTextValNode(t,e,n,r):this.indentate(r)+"<"+e+n+"/"+this.tagEndChar}function d(t){return this.options.indentBy.repeat(t)}function g(t){return!!t.startsWith(this.options.attributeNamePrefix)&&t.substr(this.attrPrefixLen)}function p(t){return t===this.options.cdataTagName}a.prototype.parse=function(t){return this.j2x(t,0).val},a.prototype.j2x=function(t,e){let n="",r="";const i=Object.keys(t),o=i.length;for(let a=0;a<o;a++){const o=i[a];if(void 0===t[o]);else if(null===t[o])r+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if("object"!=typeof t[o]){const i=this.isAttribute(o);i?n+=" "+i+'="'+this.options.attrValueProcessor(""+t[o])+'"':this.isCDATA(o)?t[this.options.textNodeName]?r+=this.replaceCDATAstr(t[this.options.textNodeName],t[o]):r+=this.replaceCDATAstr("",t[o]):o===this.options.textNodeName?t[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+t[o])):r+=this.buildTextNode(t[o],o,"",e)}else if(Array.isArray(t[o]))if(this.isCDATA(o))r+=this.indentate(e),t[this.options.textNodeName]?r+=this.replaceCDATAarr(t[this.options.textNodeName],t[o]):r+=this.replaceCDATAarr("",t[o]);else{const n=t[o].length;for(let i=0;i<n;i++){const n=t[o][i];if(void 0===n);else if(null===n)r+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if("object"==typeof n){const t=this.j2x(n,e+1);r+=this.buildObjNode(t.val,o,t.attrStr,e)}else r+=this.buildTextNode(n,o,"",e)}}else if(this.options.attrNodeName&&o===this.options.attrNodeName){const e=Object.keys(t[o]),r=e.length;for(let i=0;i<r;i++)n+=" "+e[i]+'="'+this.options.attrValueProcessor(""+t[o][e[i]])+'"'}else{const n=this.j2x(t[o],e+1);r+=this.buildObjNode(n.val,o,n.attrStr,e)}}return{attrStr:n,val:r}},t.exports=a},,function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e);var i=function(t){this._keys={},this._press={},window.addEventListener("keydown",this.keydown.bind(this)),window.addEventListener("keyup",this.keyup.bind(this)),this.setKeys(t)};i.prototype.setKeys=function(t){var e=this;return this.keys=(t||[{name:"left",code:65},{name:"right",code:68},{name:"up",code:87},{name:"down",code:83},{name:"buttonA",code:32},{name:"buttonB",code:77},{name:"start",code:13},{name:"select",code:27}]).reduce(function(t,n){var i=n.name,o=n.code;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}({},t,r({},i,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return!(!e._keys[o]||e._press[o])&&(e._press[o]=!0,setTimeout(function(){e._press[o]=!1},t),!0)}))},{}),this},i.prototype.keydown=function(){this._keys[event.keyCode]||(this._keys[event.keyCode]=!0)},i.prototype.keyup=function(){this._keys[event.keyCode]&&(this._keys[event.keyCode]=!1)},i.prototype.reset=function(){this._press={}};var o=i,a=n(1);function s(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return function t(e){if(e.length>1&&Object(a.b)(e[0])&&Object(a.b)(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")}(e),e;throw new Error("No valid coordinates")}function c(t){var e,n,r,i,o,a=s(t);if(2===a.length&&(e=a[0],n=a[1],e[0]!==n[0]||e[1]!==n[1]))return a;var c=[],f=a.length-1;c.push(a[0]);for(var l=1;l<f;l++)r=a[l-1],i=a[l],u(r,o=a[l+1],i)||c.push(i);return c.push(o),c}function u(t,e,n){var r=n[0],i=n[1],o=t[0],a=t[1],s=e[0],c=e[1],u=s-o,f=c-a;return 0===(r-o)*f-(i-a)*u&&(Math.abs(u)>=Math.abs(f)?u>0?o<=r&&r<=s:s<=r&&r<=o:f>0?a<=i&&i<=c:c<=i&&i<=a)}var f=function(t,e){var n="object"==typeof e?e.mutate:e;if(!t)throw new Error("geojson is required");var r=function(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}(t),i=[];switch(r){case"LineString":i=c(t);break;case"MultiLineString":case"Polygon":s(t).forEach(function(t){i.push(c(t))});break;case"MultiPolygon":s(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(c(t))}),i.push(e)});break;case"Point":return t;case"MultiPoint":var o={};s(t).forEach(function(t){var e=t.join("-");o.hasOwnProperty(e)||(i.push(t),o[e]=!0)});break;default:throw new Error(r+" geometry not supported")}return t.coordinates?!0===n?(t.coordinates=i,t):{type:r,coordinates:i}:!0===n?(t.geometry.coordinates=i,t):Object(a.a)({type:r,coordinates:i},t.properties,t.bbox,t.id)};function l(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=function t(e){var n={};if(!e)return n;Object.keys(e).forEach(function(r){var i=e[r];"object"==typeof i?null===i?n[r]=null:i.length?n[r]=i.map(function(t){return t}):n[r]=t(i):n[r]=i});return n}(t.properties),e.geometry=h(t.geometry),e}function h(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return h(t)}),e):(e.coordinates=function t(e){if("object"!=typeof e[0])return e.slice();return e.map(function(e){return t(e)})}(t.coordinates),e)}var d=function(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return l(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return l(t)}),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return h(t);default:throw new Error("unknown GeoJSON type")}},g=n(5);function p(t,e,n){var r=e.x,i=e.y,o=n.x-r,a=n.y-i;if(0!==o||0!==a){var s=((t.x-r)*o+(t.y-i)*a)/(o*o+a*a);s>1?(r=n.x,i=n.y):s>0&&(r+=o*s,i+=a*s)}return(o=t.x-r)*o+(a=t.y-i)*a}function b(t,e){var n=t.length-1,r=[t[0]];return function t(e,n,r,i,o){for(var a,s=i,c=n+1;c<r;c++){var u=p(e[c],e[n],e[r]);u>s&&(a=c,s=u)}s>i&&(a-n>1&&t(e,n,a,i,o),o.push(e[a]),r-a>1&&t(e,a,r,i,o))}(t,0,n,e,r),r.push(t[n]),r}function m(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return t=b(t=n?t:function(t,e){for(var n,r,i,o,a,s=t[0],c=[s],u=1,f=t.length;u<f;u++)n=t[u],i=s,o=void 0,a=void 0,o=(r=n).x-i.x,a=r.y-i.y,o*o+a*a>e&&(c.push(n),s=n);return s!==n&&c.push(n),c}(t,r),r)}function y(t,e,n){return m(t.map(function(t){return{x:t[0],y:t[1],z:t[2]}}),e,n).map(function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]})}function v(t,e,n){return t.map(function(t){var r=t.map(function(t){return{x:t[0],y:t[1]}});if(r.length<4)throw new Error("invalid polygon");for(var i=m(r,e,n).map(function(t){return[t.x,t.y]});!w(i);)i=m(r,e-=.01*e,n).map(function(t){return[t.x,t.y]});return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i})}function w(t){return!(t.length<3)&&!(3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}var x=function(t,e){if(e=e||{},!Object(a.c)(e))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(t=d(t)),Object(g.b)(t,function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;f(t,!0);var i=t.coordinates;switch(r){case"LineString":t.coordinates=y(i,e,n);break;case"MultiLineString":t.coordinates=i.map(function(t){return y(t,e,n)});break;case"Polygon":t.coordinates=v(i,e,n);break;case"MultiPolygon":t.coordinates=i.map(function(t){return v(t,e,n)})}}(t,n,r)}),t},A=n(3),k=n(0),O=function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments.length>2?arguments[2]:void 0,o=Object(k.g)('<g id="group"></g>',e).group;this.init=function(){n.update=r(o)||function(){}},i&&this.init(),this.remove=function(){o().innerHTML="",n.update=function(){}},t.items.push(this)};O.items=[],O.update=function(){return O.items.forEach(function(t){return t.update&&t.update()})};var P=O;function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var j=function(t,e){var n=this,r=e.center,i=e.rotation,o=!1,a=5e3,s=Object(k.g)('\n        <g id="group" fill="#ffffff" transform="'.concat(k.h.apply(void 0,_(r)),'">\n            <circle cx="0" cy="0" r="').concat(3,'"/>\n        </g>\n    '),t).group;this.info=function(){return a<4e3&&{center:r,radius:3}},this.position=function(){return r},this.isRemoved=function(){return o},this.remove=function(){if(o)return null;o=!0,t.removeChild(s())},this.update=function(t){var e=t.bounds,o=t.deltaTime,c=S(e,4),u=c[0],f=c[1],l=c[2],h=c[3],d=r[0]-Math.sin(Object(k.d)(-i))*o,g=r[1]-Math.cos(Object(k.d)(-i))*o;r=[d<u?l:d>l?u:d,g<f?h:g>h?f:g],s({transform:k.h.apply(void 0,_(r))}),(a-=o)<0&&n.remove()}},N=function(t){var e,n,r=0,i=0,o=[],a=100,s=Object(k.g)('\n        <g id="group" fill="transparent" stroke="#ffffff" stroke-width="3">\n            <path d="'.concat(Object(k.a)([[-16,16],[0,8],[16,16],[0,-16]],!0),'"/>\n        </g>\n    '),t).group;this.bullets=function(){return o},this.hp=function(){return a},this.update=function(a){var c=a.time,u=a.deltaTime,f=a.bounds,l=a.controls;o=o.filter(function(t){return!t.isRemoved()});var h=S(f,4),d=h[0],g=h[1],p=h[2],b=h[3];e||(e=[(d+p)/2,b-64]),l.keys.left(0)?r-=10:l.keys.right(0)&&(r+=10),!n&&l.keys.buttonA(400)&&(o=[].concat(_(o),[new j(t,{center:e,rotation:r})])),o.forEach(function(t){t.update({deltaTime:u,bounds:f})}),i=l.keys.up(0)?Math.abs(i)<10?i-.5:i:i>0?i-.1:i<0?i+.1:0;var m=e[0]+Math.sin(Object(k.d)(-r))*i*u/25,y=e[1]+Math.cos(Object(k.d)(-r))*i*u/25;e=[m<d?p:m>p?d:m,y<g?b:y>b?g:y],s({transform:k.h.apply(void 0,_(e).concat([r])),stroke:n?"#ff00ff":"#ffffff","stroke-opacity":n?Math.abs(Math.sin(10*c)):1})},this.collide=function(t){return!(n||!t)&&(!!(e&&Object(k.b)(e,t.center)<t.radius+16&&(n=t.radius<20||t.bboxs.map(function(t){var n=S(t,4),r=n[0],i=n[1],o=n[2],a=n[3];return e[0]>r&&e[0]<o&&e[1]>i&&e[1]<a}).filter(function(t){return t})[0]))&&(a-=10,setTimeout(function(){n=!1},1e3),!0))}},E=function(t,e){var n=S(Object(A.a)(e.feature),4),r=n[0],i=n[1],o=n[2],a=n[3],s=o-r,c=a-i,u=s<c?s:c,f=(s>c?s:c)*Math.sqrt(2)/2,l=[(o+r)/2,(a+i)/2],h="",d=1,g=Object(k.d)(360*Math.random()),p=!1,b=[];Object(k.e)([e.feature],function(t){var e=t.map(function(t){return[t[0]-r-s/2,t[1]-i-c/2]});return b.push(Object(A.a)({type:"Polygon",coordinates:[e]})),h+='<path d="'.concat(Object(k.a)(e),'" />'),t});var m=Object(k.g)('\n        <g\n            id="group"\n            stroke="#ffffff"\n            fill="#111111"\n            transform="'.concat(k.h.apply(void 0,_(l)),'">\n            ').concat(h,'\n            <circle id="circle" cx="0" cy="0" r="4" fill="transparent" stroke="').concat(f<2?"f2f2f2":"transparent",'"/>\n        </g>\n    '),t),y=m.group,v=m.circle;this.info=function(){return{center:l,radius:f,bboxs:b.map(function(t){return[t[0]*d+l[0],t[1]*d+l[1],t[2]*d+l[0],t[3]*d+l[1]]})}},this.name=function(){return e.feature&&e.feature.properties&&e.feature.properties[e.propertyName]||""},this.isRemoved=function(){return p},this.update=function(t){var e=t.deltaTime,n=t.bounds;if(p)return null;if(d>.8)d+=e/6e3*Math.sign(-.8);else{var r=S(n,4),i=r[0],o=r[1],a=r[2],s=r[3],c=l[0]+Math.sin(g)*e/25,u=l[1]+Math.cos(g)*e/25;l=[c<i?a:c>a?i:c,u<o?s:u>s?o:u]}y({transform:k.h.apply(void 0,_(l).concat([0,d]))})},this.collide=function(e){if(p)return!1;var n=S(l,2),r=n[0],i=n[1],o=d*s,a=d*c,f=[r-o/2,i-a/2,r+o/2,i+a/2];return!!(u<10&&Object(k.b)([r,i],e)<10||e[0]>f[0]&&e[0]<f[2]&&e[1]>f[1]&&e[1]<f[3]&&(1===b.length||b.map(function(t){var n=t[0]*d+r,o=t[1]*d+i,a=t[2]*d+r,s=t[3]*d+i;return e[0]>n&&e[0]<a&&e[1]>o&&e[1]<s}).filter(function(t){return t})[0]))&&(p=!0,y({"stroke-dasharray":"10","stroke-width":2,fill:"transparent",stroke:"#ff33aa"}),v({fill:"#ff33aa",stroke:"transparent"}),setTimeout(function(){y().parentNode&&t.removeChild(y())},200),!0)}},T=function(t,e){var n=e.featureCollection,r=e.controls,i=e.projection,o=e.propertyName,a=void 0===o?"name":o,s=e.flipYCoords,c=document.querySelector(t),u=Object(k.c)(x(n),{width:1024,height:1024,centered:!0},i,s);Object(k.g)('<link href="fonts/PressStart2P.css" type="text/css" rel="stylesheet" />',document.head);var f=Object(k.g)('\n    <svg\n        viewBox="0 0 '.concat(1056," ").concat(1056,'"\n        style="\n        position: relative;\n        width: 100%;\n        height: 100%;\n        padding: 16px;">\n        <rect x="').concat(-16,'" y="').concat(-16,'" width="').concat(1088,'" height="').concat(1088,'" fill="').concat("#000000",'"/>\n        <rect x="').concat(-8,'" y="').concat(-8,'" width="').concat(1072,'" height="').concat(1072,'" stroke="').concat("#f2f2f2",'" stroke-width="0.5" fill="transparent"/>\n        <rect x="0" y="0" width="').concat(1056,'" height="').concat(1056,'" stroke="').concat("#f2f2f2",'" stroke-width="3" fill="transparent"/>\n        <svg\n            id="svg"\n            viewBox="0 0 ').concat(1024," ").concat(1024,'"\n            style="\n                position: absolute;\n                width: 100%;\n                height: 100%;">\n        </svg>\n    </svg>\n    '),c).svg,l=[0,0,1024,1024],h=Date.now(),d=(Date.now()-h)/1e3,g=Date.now(),p=g,b=g-p,m=0,y=100,v=new P(f(),function(t){m=0,y=100,u.map(function(e){return new E(t(),{feature:e})}),(0,Object(k.g)('\n        <text\n            id="title"\n            x="'.concat(512,'"\n            y="').concat(512,'"\n            fill="#ffffff"\n            font-size="64"\n            font-family="PressStart2P"\n            text-anchor="middle"\n            alignment-baseline="central"/>\n        <text\n            id="pressStartLabel"\n            x="').concat(512,'"\n            y="').concat(576,'"\n            fill="#ffffff"\n            font-size="32"\n            font-family="PressStart2P"\n            font-weight="bold"\n            text-anchor="middle"\n            alignment-baseline="central">\n            PRESS START\n        </text>\n        '),t()).title)().innerHTML="MAP ASTEROIDS"},!0),w=new P(f(),function(t){r.reset();var e=u.map(function(e){return new E(t(),{feature:e,propertyName:a})}),n=new N(t()),i=Object(k.g)('\n        <text\n            id="name"\n            x="'.concat(512,'"\n            y="32"\n            fill="#ffffff"\n            fill-opacity="0.75"\n            font-size="16"\n            font-family="PressStart2P"\n            text-anchor="middle"\n            alignment-baseline="central"/>\n        <text\n            id="hp"\n            x="16"\n            y="').concat(1e3,'"\n            fill="#ffffff"\n            fill-opacity="0.75"\n            font-size="16"\n            font-family="PressStart2P"\n            alignment-baseline="central">HP:</text>\n        <rect x="76" y="').concat(992,'" width="').concat(932,'" height="16" stroke="#ffffff" fill="transparent" rx="8"/>\n        <rect id="scoreBar" x="80" y="').concat(996,'" width="').concat(924,'" height="8" fill-opacity="0.75" fill="#f2f2f2" rx="4"/>\n        '),t()),o=i.name,s=i.scoreBar;return function(){var t=!1;e.forEach(function(e){e.update({time:d,deltaTime:b,bounds:l}),n.bullets().forEach(function(t){e.collide(t.position())&&(t.remove(),m+=1,o().innerHTML=e.name())}),!e.isRemoved()&&n.collide(e.info())&&(t=!0)}),n.bullets().forEach(function(e){n.collide(e.info())&&(t=!0)}),t&&(s({width:924*n.hp()/100}),y=n.hp()),n.update({time:d,deltaTime:b,bounds:l,controls:r})}}),A=new P(f(),function(t){var e=Object(k.g)('\n        <text\n            id="title"\n            x="'.concat(512,'"\n            y="').concat(480,'"\n            fill="#ffffff"\n            font-size="64"\n            font-family="PressStart2P"\n            text-anchor="middle"\n            alignment-baseline="central"/>\n        <text\n            id="pressStartLabel"\n            x="').concat(512,'"\n            y="').concat(576,'"\n            fill="#ffffff"\n            font-size="32"\n            font-family="PressStart2P"\n            font-weight="bold"\n            text-anchor="middle"\n            alignment-baseline="central">\n            PRESS START\n        </text>\n        <text\n            id="scoreText"\n            x="').concat(512,'"\n            y="').concat(896,'"\n            fill="#ffffff"\n            font-size="24"\n            font-family="PressStart2P"\n            text-anchor="middle"\n            alignment-baseline="central"/>\n        <text\n            id="scoreLabel"\n            x="').concat(512,'"\n            y="').concat(960,'"\n            fill="#ffffff"\n            font-size="32"\n            font-family="PressStart2P"\n            text-anchor="middle"\n            alignment-baseline="central"/>\n        '),t()),n=e.title,r=e.scoreText,i=e.scoreLabel;n().innerHTML="GAME OVER",r().innerHTML="SCORE",i().innerHTML="".concat(m," / ").concat(u.length)}),O=new P(f(),function(t){var e=Object(k.g)('\n        <text\n            id="title"\n            x="'.concat(512,'"\n            y="').concat(480,'"\n            fill="#ffffff"\n            font-size="64"\n            font-family="PressStart2P"\n            text-anchor="middle"\n            alignment-baseline="central"/>\n        <text\n            id="scoreText"\n            x="').concat(512,'"\n            y="').concat(576,'"\n            fill="#ffffff"\n            font-size="32"\n            font-family="PressStart2P"\n            text-anchor="middle"\n            alignment-baseline="central"/>\n        <text\n            id="scoreLabel"\n            x="').concat(512,'"\n            y="').concat(640,'"\n            fill="#ffffff"\n            font-size="32"\n            font-family="PressStart2P"\n            text-anchor="middle"\n            alignment-baseline="central"/>\n        '),t()),n=e.title,r=e.scoreText,i=e.scoreLabel;n().innerHTML="YOU WIN",r().innerHTML="SCORE",i().innerHTML="".concat(m," / ").concat(u.length)}),S="cover",_=S;!function t(){setTimeout(function(){requestAnimationFrame(t)},1e3/60),"cover"===S&&(r.keys.start(1e3)||r.keys.select(1e3))&&(S="main"),"main"!==S||!r.keys.select(1e3)&&0!==y||(S="gameover"),"gameover"===S&&(r.keys.start(1e3)||r.keys.select(1e3))&&(S="cover"),"win"===S&&(r.keys.start(1e3)||r.keys.select(1e3))&&(S="cover"),m===u.length&&"main"===S&&(S="win"),"cover"===_&&"cover"!==S&&(v.remove(),A.remove(),O.remove(),w.init()),"cover"!==_&&"cover"===S&&(w.remove(),O.remove(),A.remove(),v.init()),"main"===_&&"gameover"===S&&(w.remove(),O.remove(),v.remove(),A.init()),"win"!==_&&"win"===S&&(w.remove(),v.remove(),A.remove(),O.init()),P.update(),g=Date.now(),b=g-p,p=g,d=(g-h)/1e3,_=S}()};function M(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var a=e[i][0],s=e[i][1],c=e[o][0],u=e[o][1];if(t[1]*(a-c)+s*(c-t[0])+u*(t[0]-a)==0&&(a-t[0])*(c-t[0])<=0&&(s-t[1])*(u-t[1])<=0)return!n;s>t[1]!=u>t[1]&&t[0]<(c-a)*(t[1]-s)/(u-s)+a&&(r=!r)}return r}var C=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=function(t){if(!t)throw new Error("obj is required");var e=s(t);if(e.length>1&&Object(a.b)(e[0])&&Object(a.b)(e[1]))return e;throw new Error("Coordinate is not a valid Point")}(t),o=s(e),c=e.geometry?e.geometry.type:e.type,u=e.bbox;if(u&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,u))return!1;"Polygon"===c&&(o=[o]);for(var f=0,l=!1;f<o.length&&!l;f++)if(M(i,o[f][0],r)){for(var h=!1,d=1;d<o[f].length&&!h;)M(i,o[f][d],!r)&&(h=!0),d++;h||(l=!0)}return l},L=n(7),R=n.n(L);function H(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function I(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var F=function(t,e){var n,r=e.size||8,i=Object(k.g)('\n        <g\n            id="block"\n            fill="'.concat(R()(e.color).lighten(20)||"#777777",'"\n            stroke="').concat(e.color&&R()(e.color).darken(10)||"#333333",'"\n            stroke-width="0.5"\n            transform="').concat(k.h.apply(void 0,I(e.position||[0,0])),'">\n            <rect x="').concat(-r/2,'" y="').concat(-r/2,'" width="').concat(r,'" height="').concat(r,'"/>\n        </g>\n    '),t).block,o=I(e.position),a=I(o);this.lastPosition=function(){return I(a)},this.position=function(){return o},this.isMoved=function(){return n},this.moved=function(){n=!0,i({"stroke-width":3})},this.reset=function(){t.removeChild(i()),t.appendChild(i())},this.update=function(t){var e=t.position;e[0]===o[0]&&e[1]===o[1]||(a=I(o),o=I(e)),i({transform:k.h.apply(void 0,I(o))})},this.freeze=function(){n=!1,i({fill:"#000",stroke:"#333","stroke-width":.5})}},z=function t(e,n){var r=n.feature,i=Object(A.a)(r),o=n.size,a=r&&r.properties&&r.properties[n.propertyName],s=Math.round(i[0]/o)*o,c=Math.round(i[1]/o)*o,u=Math.round(i[2]/o)*o,f=Math.round(i[3]/o)*o,l=u-s,h=f-c,d=[(u+s)/2,(f+c)/2],g=h/o,p=l/o,b=Object.keys(I(new Array(g*p))),m=["#ff5555","#aaee33","#3377ee","#aa33ff"].map(function(t){return R()(t).darken(5).toHexString()}),y=m[Math.floor(Math.random()*m.length)],v=[];if(0===p||0===g){var w=-l/2+p*o+o/2+d[0],x=-h/2+g*o+o/2+d[1],O=!!t.grid[w+":"+x];O||(t.grid[w+":"+x]=!0),v=O?[]:[new F(e,{size:o,position:[w,x],color:y})]}else v=b.map(function(n){var i=n%p,a=Math.floor(n/p),s=-l/2+i*o+o/2+d[0],c=-h/2+a*o+o/2+d[1],u=C([s,c],r),f=!!t.grid[s+":"+c],g=u&&!f?new F(e,{size:o,position:[s,c],color:y}):null;return!f&&u&&(t.grid[s+":"+c]=!0),g}).filter(function(t){return t});this.isEmpty=function(){return 0===v.length},this.name=function(){return a},this.collide=function(t){return(t[0]>s&&t[0]<u&&t[1]>c&&t[1]<f||0===p||0===g)&&v.filter(function(t){return!t.isMoved()}).map(function(e){return 0===Object(k.b)(e.position(),t)?e:null}).filter(function(t){return t})[0]||!1}};z.grid={};var V=function(t,e){var n,r=e.size,i=[512+r/2,512+r/2],o=0,a=0,s=0,c=[],u=Object.keys(I(new Array(3))).map(function(){return new F(t,{size:r,position:i})});u.forEach(function(t){t.moved()}),this.position=function(){return I(i)},this.isStopped=function(){return n},this.append=function(t){t.reset(),u=[].concat(I(u),[t]),s++},this.label=function(){return"max length ".concat(u.length,"/").concat(512)},this.score=function(){return"score ".concat(s)},this.update=function(t){var s=t.deltaTime,f=t.bounds,l=t.controls;if(n)return null;l.keys.left(100)&&1!==o?o=0:l.keys.right(100)&&0!==o?o=1:l.keys.up(100)&&3!==o?o=2:l.keys.down(100)&&2!==o&&(o=3),a>25&&(i=[i[0]+(0===o||1===o?0===o?-r:r:0),i[1]+(2===o||3===o?2===o?-r:r:0)],a=0),a+=s;var h=H(i,2),d=h[0],g=h[1],p=H(f,4),b=p[0],m=p[1],y=p[2],v=p[3];if(i[0]=d<b?y-r/2:d>y?b+r/2:d,e.warpPole)i[1]=g<m?v-r/2:g>v?m+r/2:g;else{var w=y-b;if(g<m){var x=i[0]+w/2;i[0]=x>w?x-w:x,i[1]+=r,o=3}else if(g>v){var A=i[0]+w/2;i[0]=A>w?A-w:A,i[1]-=r,o=2}}if(u.forEach(function(t,e){var n=u[e-1];n?t.update({position:n.lastPosition()}):t.update({position:I(i)})}),512===u.length){var O=u.filter(function(t,e){return e>256});O.forEach(function(t){t.freeze()}),c=[].concat(I(c),I(O)),u=u.filter(function(t,e){return e<=256})}var P=u[0];[].concat(I(u.filter(function(t,e){return e>=3&&e<u.length-1})),I(c)).map(function(t){return 0===Object(k.b)(t.position(),P.position())?t:null}).filter(function(t){return t})[0]&&(n=!0,u.forEach(function(t){return t.freeze()}))}},D=function(t,e){var n=e.warpPole,r=e.featureCollection,i=e.controls,o=e.projection,a=e.flipYCoords,s=e.propertyName,c=void 0===s?"name":s,u=document.querySelector(t),f=Object(k.f)(Object(k.c)(r,{width:1024,height:1024,centered:!0},o,a));Object(k.g)('<link href="fonts/PressStart2P.css" type="text/css" rel="stylesheet" />',document.head);var l,h=Object(k.g)('\n    <svg\n        viewBox="0 0 '.concat(1056," ").concat(1056,'"\n        style="\n        position: relative;\n        width: 100%;\n        height: 100%;\n        padding: 16px;">\n        <rect x="').concat(-16,'" y="').concat(-16,'" width="').concat(1088,'" height="').concat(1088,'" fill="').concat("#f2f2f2",'"/>\n        <rect x="').concat(-8,'" y="').concat(-8,'" width="').concat(1072,'" height="').concat(1072,'" stroke="').concat("#333333",'" stroke-width="0.5" fill="transparent"/>\n        <rect x="0" y="0" width="').concat(1056,'" height="').concat(1056,'" stroke="').concat("#333333",'" stroke-width="3" fill="transparent"/>\n        <svg\n            id="svg"\n            viewBox="0 0 ').concat(1024," ").concat(1024,'"\n            style="\n                position: absolute;\n                width: 100%;\n                height: 100%;">\n        </svg>\n    </svg>\n    '),u).svg,d=[0,0,1024,1024],g=Date.now(),p=(Date.now()-g)/1e3,b=Date.now(),m=b,y=b-m,v=new P(h(),function(t){z.grid={},f.map(function(e){return new z(t(),{feature:e,size:8,propertyName:c})}).filter(function(t){return!t.isEmpty()}),(0,Object(k.g)('\n        <text\n            id="title"\n            x="'.concat(512,'"\n            y="').concat(512,'"\n            fill="#333333"\n            font-size="64"\n            font-family="PressStart2P"\n            text-anchor="middle"\n            alignment-baseline="central"/>\n        <text\n            id="pressStartLabel"\n            x="').concat(512,'"\n            y="').concat(576,'"\n            fill="#333333"\n            font-size="32"\n            font-family="PressStart2P"\n            font-weight="bold"\n            stroke="#ffffff"\n            text-anchor="middle"\n            alignment-baseline="central">\n            PRESS START\n        </text>\n        '),t()).title)().innerHTML="MAP SNAKE"},!0),w=new P(h(),function(t){i.reset(),z.grid={},l=!1;var e=Object(k.g)('\n        <g id="background"></g>\n        <text\n            id="scoreLabel"\n            x="'.concat(512,'"\n            y="',32,'"\n            fill="#333333"\n            font-size="16"\n            font-family="PressStart2P"\n            font-weight="bold"\n            stroke="#ffffff"\n            text-anchor="middle"\n            alignment-baseline="central"/>\n        <text\n            id="label"\n            x="').concat(512,'"\n            y="',64,'"\n            fill="#333333"\n            font-size="16"\n            font-family="PressStart2P"\n            font-weight="bold"\n            stroke="#ffffff"\n            text-anchor="middle"\n            alignment-baseline="central"/>\n        <text\n            id="gameoverLabel"\n            x="').concat(512,'"\n            y="').concat(512,'"\n            fill="#333333"\n            font-size="64"\n            font-family="PressStart2P"\n            font-weight="bold"\n            stroke="#ffffff"\n            text-anchor="middle"\n            alignment-baseline="central"\n            style="display: none;">\n            GAME OVER\n        </text>\n        <text\n            id="pressStartLabel"\n            x="').concat(512,'"\n            y="').concat(576,'"\n            fill="#333333"\n            font-size="32"\n            font-family="PressStart2P"\n            font-weight="bold"\n            stroke="#ffffff"\n            text-anchor="middle"\n            alignment-baseline="central"\n            style="display: none;">\n            PRESS START\n        </text>\n        <text\n            id="maxLengthlabel"\n            x="').concat(512,'"\n            y="').concat(992,'"\n            fill="#333333"\n            font-size="16"\n            font-family="PressStart2P"\n            font-weight="bold"\n            stroke="#ffffff"\n            text-anchor="middle"\n            alignment-baseline="central"/>\n        '),t()),r=e.pressStartLabel,o=e.background,a=e.label,s=e.maxLengthlabel,u=e.scoreLabel,h=e.gameoverLabel,g=f.map(function(t){return new z(o(),{feature:t,size:8,propertyName:c})}).filter(function(t){return!t.isEmpty()}),b=new V(o(),{size:8,warpPole:n});return s().innerHTML=b.label(),u().innerHTML=b.score(),function(){b.isStopped()?l||(h({},{display:"block"}),r({},{display:"block"}),l=!0):(g.forEach(function(t){var e=t.collide(b.position());e&&(e.moved(),b.append(e),a().innerHTML=t.name(),s().innerHTML=b.label(),u().innerHTML=b.score())}),b.update({time:p,deltaTime:y,bounds:d,controls:i}))}}),x="cover",A=x;!function t(){setTimeout(function(){requestAnimationFrame(t)},1e3/60),"cover"===x&&(i.keys.start(1e3)||i.keys.select(1e3)||i.keys.buttonA(1e3))&&(x="main"),"main"===x&&l&&(i.keys.start(1e3)||i.keys.select(1e3)||i.keys.buttonA(1e3))&&(x="cover"),"cover"===A&&"cover"!==x&&(v.remove(),w.init()),"main"===A&&"main"!==x&&(v.init(),w.remove()),P.update(),b=Date.now(),y=b-m,m=b,p=(b-g)/1e3,A=x}()};function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){B(t,e,n[e])})}return t}function B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}window.MapStation={mapAsteroids:function(t,e){return new T(t,q({},e,{controls:e.controls||new o(e.controlsKeys)}))},mapSnake:function(t,e){return new D(t,q({},e,{controls:e.controls||new o(e.controlsKeys)}))}}}]);